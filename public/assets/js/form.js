"use strict";var db=firebase.firestore(),form=document.querySelector("#confirmation-form"),button=document.getElementById("confirm-btn");form.addEventListener("submit",function(e){e.preventDefault(),button.disabled=!0;for(var o=document.querySelectorAll(".song"),r=[],t=0;t<o.length;t++){var a=form.artist-[t].value,n=form.song-[t].value;a&&n&&r.push({artist:a,song:n})}db.collection("guests").add({name:form.name.value,lastname:form.lastname.value,adults:form.adt.value,children:form.chd.value,veggie:form.veggie.value,celiaco:form.celiaco.value,songs:r,comments:form.comments.value?form.comments.value:"Sin comentarios"}).then(function(){var e="Los esperamos";1==form.adt.value&&0==form.chd.value&&(e="Te esperamos"),swal("Muchas gracias!",e,"success"),button.style.backgroundColor="#28a745",button.style.borderColor="#28a745",button.textContent="Gracias por confirmar!",form.reset()}).catch(function(e){swal("Lo sentimos","Hubo un error al intentar enviar tu confirmaciÃ³n","error"),button.disabled=!1,console.error("Error adding document: ",e)})});